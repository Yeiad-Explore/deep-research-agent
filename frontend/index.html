<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deep Research Agent - AI-Powered Research with Reddit Insights</title>
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>ğŸ”¬ Deep Research Agent</h1>
            <p class="subtitle">AI-Powered Deep Research with Web & Reddit Community Insights</p>
        </header>

        <!-- Research Configuration Panel -->
        <div class="config-panel">
            <div class="query-section">
                <input
                    type="text"
                    id="query"
                    placeholder="Enter your research question (e.g., 'What are developers saying about the new Python 3.13 features?')"
                />
            </div>

            <div class="advanced-options" id="advanced-options">
                <div class="options-toggle">
                    <button id="toggle-options">âš™ï¸ Advanced Options</button>
                </div>

                <div class="options-content" id="options-content" style="display: none;">
                    <div class="option-group">
                        <label for="depth">Research Depth:</label>
                        <select id="depth">
                            <option value="quick">Quick (1-2 iterations)</option>
                            <option value="standard" selected>Standard (2-3 iterations)</option>
                            <option value="comprehensive">Comprehensive (3-5 iterations)</option>
                        </select>
                    </div>

                    <div class="option-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="include-reddit" checked />
                            Include Reddit Discussions
                        </label>
                    </div>

                    <div class="option-group">
                        <label for="subreddits">Specific Subreddits (optional):</label>
                        <input
                            type="text"
                            id="subreddits"
                            placeholder="e.g., python,programming,learnpython (comma-separated)"
                        />
                    </div>

                    <div class="option-group">
                        <label for="time-filter">Reddit Time Filter:</label>
                        <select id="time-filter">
                            <option value="day">Past 24 Hours</option>
                            <option value="week">Past Week</option>
                            <option value="month" selected>Past Month</option>
                            <option value="year">Past Year</option>
                            <option value="all">All Time</option>
                        </select>
                    </div>
                </div>
            </div>

            <button id="start-research" class="btn-primary">ğŸš€ Start Deep Research</button>
        </div>

        <!-- Live Progress Tracker -->
        <div class="progress-tracker" id="progress-tracker" style="display: none;">
            <h3>Research Progress</h3>
            <div class="stages">
                <div class="stage" id="stage-planning">
                    <span class="icon">ğŸ§ </span>
                    <span class="label">Planning Research</span>
                    <span class="status">pending</span>
                </div>
                <div class="stage" id="stage-searching">
                    <span class="icon">ğŸ”</span>
                    <span class="label">Searching Web & Reddit</span>
                    <span class="status">pending</span>
                </div>
                <div class="stage" id="stage-scraping">
                    <span class="icon">ğŸ“¥</span>
                    <span class="label">Gathering Content</span>
                    <span class="status">pending</span>
                </div>
                <div class="stage" id="stage-analyzing">
                    <span class="icon">ğŸ”¬</span>
                    <span class="label">Analyzing Sources</span>
                    <span class="status">pending</span>
                </div>
                <div class="stage" id="stage-consensus">
                    <span class="icon">ğŸ’­</span>
                    <span class="label">Building Consensus</span>
                    <span class="status">pending</span>
                </div>
                <div class="stage" id="stage-synthesis">
                    <span class="icon">âœï¸</span>
                    <span class="label">Synthesizing Report</span>
                    <span class="status">pending</span>
                </div>
            </div>
        </div>

        <!-- Live Discoveries Feed -->
        <div class="discoveries-feed" id="discoveries-feed" style="display: none;">
            <h3>ğŸ”” Live Discoveries</h3>
            <div id="live-updates" class="live-updates"></div>
        </div>

        <!-- Results Display -->
        <div class="results-container" id="results-container" style="display: none;">
            <!-- Executive Summary -->
            <div class="executive-summary" id="executive-summary"></div>

            <!-- Tabbed Results -->
            <div class="tabs">
                <button class="tab active" data-tab="synthesis">ğŸ“„ Full Report</button>
                <button class="tab" data-tab="web-sources">ğŸŒ Web Sources</button>
                <button class="tab" data-tab="reddit-insights">ğŸ—¨ï¸ Reddit Insights</button>
                <button class="tab" data-tab="expert-opinions">ğŸ“ Expert Opinions</button>
                <button class="tab" data-tab="consensus">ğŸ“Š Community Consensus</button>
                <button class="tab" data-tab="all-sources">ğŸ“š All Citations</button>
            </div>

            <div class="tab-content" id="tab-content"></div>

            <!-- Export Options -->
            <div class="export-options">
                <button id="export-markdown" class="btn-secondary">â¬‡ï¸ Export as Markdown</button>
                <button id="export-json" class="btn-secondary">â¬‡ï¸ Export as JSON</button>
                <button id="refine-research" class="btn-primary">ğŸ”„ Refine Research</button>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <p>Powered by LangGraph, Parallel.ai, YARS, and Azure OpenAI</p>
        </footer>
    </div>

    <!-- Scripts -->
    <script src="/js/api.js"></script>
    <script src="/js/ui.js"></script>
    <script src="/js/main.js"></script>
</body>
</html>
